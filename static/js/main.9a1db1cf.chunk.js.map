{"version":3,"sources":["actions/books.js","actions/cart.js","components/BookCard.jsx","containers/BookCard.js","actions/filter.js","components/Filter.jsx","containers/Filter.js","components/Menu.jsx","containers/Menu.js","components/App.jsx","containers/App.js","reducers/books.js","reducers/cart.js","reducers/filter.js","reducers/index.js","index.js","store.js"],"names":["setBooks","books","type","payload","addToCart","obj","removeFromCart","id","BookCard","book","title","author","price","image","addedCount","Card","className","Image","src","Content","Header","Meta","extra","Icon","name","Button","onClick","bind","connect","cart","items","reduce","count","dispatch","bindActionCreators","cartActions","setFilter","filter","setSearchQuery","value","Filter","filterBy","searchQuery","Menu","secondary","Item","active","Input","icon","onChange","e","target","placeholder","filterActions","CartComponent","List","selection","divided","verticalAlign","floated","color","avatar","MenuComponent","totalPrice","position","Popup","trigger","content","map","on","hideOnScroll","total","length","uniqBy","o","App","this","props","axios","get","then","data","isReady","Container","Group","itemsPerRow","i","key","Component","searchBooks","orderBy","sortBy","toLowerCase","indexOf","filterBooks","booksActions","initialState","combineReducers","state","action","store","createStore","rootReducer","applyMiddleware","logger","ReactDOM","render","document","getElementById"],"mappings":"mfAAaA,EAAW,SAACC,GAAD,MAAY,CAChCC,KAAM,YACNC,QAASF,I,4ECFAG,EAAY,SAAAC,GAAG,MAAK,CAC7BH,KAAM,cACNC,QAASE,IAGAC,EAAiB,SAAAC,GAAE,MAAK,CACjCL,KAAM,mBACNC,QAASI,I,0BCsBEC,EA1BE,SAAAC,GAAS,IAChBC,EAAuDD,EAAvDC,MAAOC,EAAgDF,EAAhDE,OAAQC,EAAwCH,EAAxCG,MAAOC,EAAiCJ,EAAjCI,MAAOT,EAA0BK,EAA1BL,UAAWU,EAAeL,EAAfK,WAChD,OACE,kBAACC,EAAA,EAAD,KACE,yBAAKC,UAAU,cACb,kBAACC,EAAA,EAAD,CAAOC,IAAKL,KAEd,kBAACE,EAAA,EAAKI,QAAN,KACE,kBAACJ,EAAA,EAAKK,OAAN,KAAcV,GACd,kBAACK,EAAA,EAAKM,KAAN,KACE,0BAAML,UAAU,QAAQL,KAG5B,kBAACI,EAAA,EAAKI,QAAN,CAAcG,OAAK,GACjB,2BACE,kBAACC,EAAA,EAAD,CAAMC,KAAK,SACVZ,IAGL,kBAACa,EAAA,EAAD,CAAQC,QAAStB,EAAUuB,U,EAAWlB,IAAtC,eACeK,EAAa,GAAb,WAAsBA,EAAtB,QCVNc,eARS,SAAC,EAAD,OAAGC,EAAH,EAAGA,KAAUtB,EAAb,EAAaA,GAAb,MAAuB,CAC7CO,WAAYe,EAAKC,MAAMC,QAAO,SAACC,EAAOvB,GAAR,OAAiBuB,GAASvB,EAAKF,KAAOA,EAAK,EAAI,KAAI,OAGxD,SAAA0B,GAAQ,sBAC9BC,YAAmBC,EAAaF,MAGtBL,CAGbpB,GChBW4B,EAAY,SAACC,GAAD,MAAa,CAClCnC,KAAM,aACNC,QAASkC,IAGAC,EAAiB,SAACC,GAAD,MAAY,CACtCrC,KAAM,YACNC,QAASoC,I,kBC6BEC,EAjCA,SAAC,GAAD,IAAGJ,EAAH,EAAGA,UAAWK,EAAd,EAAcA,SAAUC,EAAxB,EAAwBA,YAAaJ,EAArC,EAAqCA,eAArC,OACb,kBAACK,EAAA,EAAD,CAAMC,WAAS,GACb,kBAACD,EAAA,EAAKE,KAAN,CACEC,OAAqB,QAAbL,EACRf,QAASU,EAAUT,U,EAAW,QAFhC,OAKA,kBAACgB,EAAA,EAAKE,KAAN,CACEC,OAAqB,eAAbL,EACRf,QAASU,EAAUT,U,EAAW,eAFhC,gBAKA,kBAACgB,EAAA,EAAKE,KAAN,CACEC,OAAqB,cAAbL,EACRf,QAASU,EAAUT,U,EAAW,cAFhC,eAKA,kBAACgB,EAAA,EAAKE,KAAN,CACEC,OAAqB,WAAbL,EACRf,QAASU,EAAUT,U,EAAW,WAFhC,UAKA,kBAACgB,EAAA,EAAKE,KAAN,KACE,kBAACE,EAAA,EAAD,CACEC,KAAK,SACLC,SAAU,SAAAC,GAAC,OAAIZ,EAAeY,EAAEC,OAAOZ,QACvCA,MAAOG,EACPU,YAAY,0BCjBLxB,eARS,SAAC,GAAD,EAAG3B,MAAH,MAAwB,CAC9CwC,SADsB,EAAUJ,OACfI,aAGQ,SAAAR,GAAQ,sBAC9BC,YAAmBmB,EAAepB,MAGxBL,CAGbY,G,kBCbIc,EAAgB,SAAC,GAAD,IAAG5C,EAAH,EAAGA,MAAOH,EAAV,EAAUA,GAAIM,EAAd,EAAcA,MAAOP,EAArB,EAAqBA,eAArB,OACpB,kBAACiD,EAAA,EAAD,CAAMC,WAAS,EAACC,SAAO,EAACC,cAAc,UACpC,kBAACH,EAAA,EAAKV,KAAN,KACE,kBAACU,EAAA,EAAKpC,QAAN,CAAcwC,QAAQ,SACpB,kBAAClC,EAAA,EAAD,CAAQC,QAASpB,EAAeqB,U,EAAWpB,GAAKqD,MAAM,OAAtD,WAIF,kBAAC3C,EAAA,EAAD,CAAO4C,QAAM,EAAC3C,IAAKL,IACnB,kBAAC0C,EAAA,EAAKpC,QAAN,KAAeT,MA8BNoD,EAzBO,SAAC,GAAD,IAAGC,EAAH,EAAGA,WAAY/B,EAAf,EAAeA,MAAOF,EAAtB,EAAsBA,MAAtB,OACpB,kBAACa,EAAA,EAAD,KACE,kBAACA,EAAA,EAAKE,KAAN,CAAWrB,KAAK,UAAhB,cAEA,kBAACmB,EAAA,EAAKA,KAAN,CAAWqB,SAAS,SAClB,kBAACrB,EAAA,EAAKE,KAAN,CAAWrB,KAAK,UAAhB,eACgB,2BAAIuC,GADpB,aAIA,kBAACE,EAAA,EAAD,CACEC,QACE,kBAACvB,EAAA,EAAKE,KAAN,CAAWrB,KAAK,QAAhB,SACQ,2BAAIQ,GADZ,KAIFmC,QAASrC,EAAMsC,KAAI,SAAA3D,GAAI,OACrB,kBAAC,EAAkBA,MAErB4D,GAAG,QACHC,cAAY,O,kBCpBL1C,eAVS,SAAC,GAAD,IAAGC,EAAH,EAAGA,KAAH,MAAe,CACrCkC,WAAYlC,EAAKC,MAAMC,QAAO,SAACwC,EAAO9D,GAAR,OAAiB8D,EAAQ9D,EAAKG,QAAO,GACnEoB,MAAOH,EAAKC,MAAM0C,OAClB1C,MAAO2C,IAAO5C,EAAKC,OAAO,SAAA4C,GAAC,OAAIA,EAAEnE,UAGR,SAAA0B,GAAQ,sBAC9BC,YAAmBC,EAAaF,MAGtBL,CAGbe,GCaagC,E,6LAvBS,IACZ3E,EAAa4E,KAAKC,MAAlB7E,SACR8E,IAAMC,IAAI,eAAeC,MAAK,YAAe,IAAZC,EAAW,EAAXA,KAC/BjF,EAASiF,Q,+BAIH,IAAD,EACoBL,KAAKC,MAAxB5E,EADD,EACCA,MAAOiF,EADR,EACQA,QACf,OACE,kBAACC,EAAA,EAAD,KACE,kBAAC,EAAD,MACA,kBAAC,EAAD,MACA,kBAACpE,EAAA,EAAKqE,MAAN,CAAYC,YAAa,GACrBH,EAEEjF,EAAMmE,KAAI,SAAC3D,EAAM6E,GAAP,OAAa,kBAAC,EAAD,eAAUC,IAAKD,GAAO7E,OAD7C,mB,GAhBI+E,a,iBCkBZC,EAAc,SAACxF,EAAOwC,EAAUC,GACpC,OArBa,SAACzC,EAAOwC,GACrB,OAAQA,GACN,IAAK,aACH,OAAOiD,IAAQzF,EAAO,QAAS,QACjC,IAAK,YACH,OAAOyF,IAAQzF,EAAO,QAAS,OACjC,IAAK,SACH,OAAOyF,IAAQzF,EAAO,SAAU,OAClC,QACE,OAAOA,GAYJ0F,CARW,SAAC1F,EAAOyC,GAAR,OAClBzC,EAAMoC,QACJ,SAAAqC,GAAC,OACCA,EAAEhE,MAAMkF,cAAcC,QAAQnD,EAAYkD,gBAAkB,GAC5DlB,EAAE/D,OAAOiF,cAAcC,QAAQnD,EAAYkD,gBAAkB,KAInDE,CAAY7F,EAAOyC,GAAcD,IAYlCb,eATS,SAAC,GAAD,IAAG3B,EAAH,EAAGA,MAAOoC,EAAV,EAAUA,OAAV,MAAwB,CAC9CpC,MAAOA,EAAM6B,OAAS2D,EAAYxF,EAAM6B,MAAOO,EAAOI,SAAUJ,EAAOK,aACvEwC,QAASjF,EAAMiF,YAGU,SAAAjD,GAAQ,sBAC9BC,YAAmB6D,EAAc9D,MAGvBL,CAGb+C,G,2BC1CIqB,EAAe,CACnBd,SAAS,EACTpD,MAAO,M,SCFHkE,EAAe,CACnBlE,MAAO,ICDHkE,EAAe,CACnBtD,YAAa,GACbD,SAAU,OCIGwD,eAAgB,CAC7BhG,MHFa,WAAmC,IAAlCiG,EAAiC,uDAAzBF,EAAcG,EAAW,uCAC/C,OAAQA,EAAOjG,MACb,IAAK,YACH,OAAO,eACFgG,EADL,CAEEpE,MAAOqE,EAAOhG,QACd+E,SAAS,IAEb,IAAK,eACH,OAAO,eACFgB,EADL,CAEEhB,QAASiB,EAAOhG,UAEpB,QACE,OAAO+F,IGXXrE,KFJa,WAAmC,IAAlCqE,EAAiC,uDAAzBF,EAAcG,EAAW,uCAC/C,OAAQA,EAAOjG,MACb,IAAK,cACH,OAAO,eACFgG,EADL,CAEEpE,MAAM,GAAD,mBAAMoE,EAAMpE,OAAZ,CAAmBqE,EAAOhG,YAEnC,IAAK,mBACH,OAAO,eACF+F,EADL,CAEEpE,MAAOoE,EAAMpE,MAAMO,QAAO,SAAAqC,GAAC,OAAIA,EAAEnE,KAAO4F,EAAOhG,aAEnD,QACE,OAAO+F,IERX7D,ODJa,WAAmC,IAAlC6D,EAAiC,uDAAzBF,EAAcG,EAAW,uCAC/C,OAAQA,EAAOjG,MACb,IAAK,YACH,OAAO,eACFgG,EADL,CAEExD,YAAayD,EAAOhG,UAExB,IAAK,aACH,OAAO,eACF+F,EADL,CAEEzD,SAAU0D,EAAOhG,UAErB,QACE,OAAO+F,MEVPE,GCFYC,YAAYC,GAAaC,YAAgBC,MDI3DC,IAASC,OACL,kBAAC,IAAD,CAAUN,MAAOA,IACb,kBAAC,EAAD,OAEJO,SAASC,eAAe,W","file":"static/js/main.9a1db1cf.chunk.js","sourcesContent":["export const setBooks = (books) => ({\r\n    type: 'SET_BOOKS',\r\n    payload: books\r\n});","export const addToCart = obj => ({\r\n    type: 'ADD_TO_CART',\r\n    payload: obj ,\r\n});\r\n\r\nexport const removeFromCart = id => ({\r\n    type: 'REMOVE_FROM_CART',\r\n    payload: id,\r\n});","import React from 'react';\nimport { Card, Image, Icon, Button } from 'semantic-ui-react';\n\nconst BookCard = book => {\n  const { title, author, price, image, addToCart, addedCount } = book;\n  return (\n    <Card>\n      <div className=\"card-image\">\n        <Image src={image} />\n      </div>\n      <Card.Content>\n        <Card.Header>{title}</Card.Header>\n        <Card.Meta>\n          <span className=\"date\">{author}</span>\n        </Card.Meta>\n      </Card.Content>\n      <Card.Content extra>\n        <a>\n          <Icon name=\"euro\" />\n          {price}\n        </a>\n      </Card.Content>\n      <Button onClick={addToCart.bind(this, book)}>\n        Add to cart {addedCount > 0 && `(${addedCount})`}\n      </Button>\n    </Card>\n  );\n};\n\nexport default BookCard;\n","import { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport * as cartActions from '../actions/cart';\nimport BookCard from '../components/BookCard';\n\nconst mapStateToProps = ({ cart }, { id }) => ({\n  addedCount: cart.items.reduce((count, book) => count + (book.id === id ? 1 : 0), 0),\n});\n\nconst mapDispatchToProps = dispatch => ({\n  ...bindActionCreators(cartActions, dispatch),\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(BookCard);\n","export const setFilter = (filter) => ({\r\n    type: 'SET_FILTER',\r\n    payload: filter\r\n});\r\n\r\nexport const setSearchQuery = (value) => ({\r\n    type: 'SET_QUERY',\r\n    payload: value\r\n});","import React from 'react';\nimport { Input, Menu } from 'semantic-ui-react';\n\nconst Filter = ({ setFilter, filterBy, searchQuery, setSearchQuery }) => (\n  <Menu secondary>\n    <Menu.Item\n      active={filterBy === 'all'}\n      onClick={setFilter.bind(this, 'all')}>\n      All\n    </Menu.Item>\n    <Menu.Item\n      active={filterBy === 'price_high'}\n      onClick={setFilter.bind(this, 'price_high')}>\n      Price (High)\n    </Menu.Item>\n    <Menu.Item\n      active={filterBy === 'price_low'}\n      onClick={setFilter.bind(this, 'price_low')}>\n      Price (Low)\n    </Menu.Item>\n    <Menu.Item\n      active={filterBy === 'author'}\n      onClick={setFilter.bind(this, 'author')}>\n      Author\n    </Menu.Item>\n    <Menu.Item>\n      <Input\n        icon=\"search\"\n        onChange={e => setSearchQuery(e.target.value)}\n        value={searchQuery}\n        placeholder=\"Search the book...\"\n      />\n    </Menu.Item>\n  </Menu>\n);\n\nexport default Filter;\n","import { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport * as filterActions from '../actions/filter';\nimport Filter from '../components/Filter';\n\nconst mapStateToProps = ({ books, filter }) => ({\n  filterBy: filter.filterBy,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  ...bindActionCreators(filterActions, dispatch),\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(Filter);\n","import React from \"react\";\nimport { Menu, Popup, List, Button, Image } from \"semantic-ui-react\";\n\nconst CartComponent = ({ title, id, image, removeFromCart }) => (\n  <List selection divided verticalAlign=\"middle\">\n    <List.Item>\n      <List.Content floated=\"right\">\n        <Button onClick={removeFromCart.bind(this, id)} color=\"red\">\n          Delete\n        </Button>\n      </List.Content>\n      <Image avatar src={image} />\n      <List.Content>{title}</List.Content>\n    </List.Item>\n  </List>\n);\n\nconst MenuComponent = ({ totalPrice, count, items }) => (\n  <Menu>\n    <Menu.Item name=\"browse\">Books shop</Menu.Item>\n\n    <Menu.Menu position=\"right\">\n      <Menu.Item name=\"signup\">\n        Total: &nbsp; <b>{totalPrice}</b>&nbsp;euro.\n      </Menu.Item>\n\n      <Popup\n        trigger={\n          <Menu.Item name=\"help\">\n            Cart (<b>{count}</b>)\n          </Menu.Item>\n        }\n        content={items.map(book => (\n          <CartComponent {...book} />\n        ))}\n        on=\"click\"\n        hideOnScroll\n      />\n    </Menu.Menu>\n  </Menu>\n);\n\nexport default MenuComponent;\n","import { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport * as cartActions from '../actions/cart';\nimport Menu from '../components/Menu';\nimport uniqBy from 'lodash/uniqBy';\n\nconst mapStateToProps = ({ cart }) => ({\n  totalPrice: cart.items.reduce((total, book) => total + book.price, 0),\n  count: cart.items.length,\n  items: uniqBy(cart.items, o => o.id),\n});\n\nconst mapDispatchToProps = dispatch => ({\n  ...bindActionCreators(cartActions, dispatch),\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(Menu);\n","import React, { Component } from 'react';\r\nimport { Card, Container } from 'semantic-ui-react';\r\nimport axios from 'axios';\r\n\r\nimport BookCard from '../containers/BookCard';\r\nimport Filter from '../containers/Filter';\r\nimport Menu from '../containers/Menu';\r\n\r\nclass App extends Component {\r\n  componentWillMount() {\r\n    const { setBooks } = this.props;\r\n    axios.get('/books.json').then(({ data }) => {\r\n      setBooks(data);\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { books, isReady } = this.props;\r\n    return (\r\n      <Container>\r\n        <Menu />\r\n        <Filter />\r\n        <Card.Group itemsPerRow={4}>\r\n          {!isReady\r\n            ? 'Loading...'\r\n            : books.map((book, i) => <BookCard key={i} {...book} />)}\r\n        </Card.Group>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport * as booksActions from '../actions/books';\nimport App from '../components/App';\nimport orderBy from 'lodash/orderBy';\n\nconst sortBy = (books, filterBy) => {\n  switch (filterBy) {\n    case 'price_high':\n      return orderBy(books, 'price', 'desc');\n    case 'price_low':\n      return orderBy(books, 'price', 'asc');\n    case 'author':\n      return orderBy(books, 'author', 'asc');\n    default:\n      return books;\n  }\n};\n\nconst filterBooks = (books, searchQuery) =>\n  books.filter(\n    o =>\n      o.title.toLowerCase().indexOf(searchQuery.toLowerCase()) >= 0 ||\n      o.author.toLowerCase().indexOf(searchQuery.toLowerCase()) >= 0,\n  );\n\nconst searchBooks = (books, filterBy, searchQuery) => {\n  return sortBy(filterBooks(books, searchQuery), filterBy);\n};\n\nconst mapStateToProps = ({ books, filter }) => ({\n  books: books.items && searchBooks(books.items, filter.filterBy, filter.searchQuery),\n  isReady: books.isReady,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  ...bindActionCreators(booksActions, dispatch),\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(App);\n","const initialState = {\n  isReady: false,\n  items: null\n};\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case \"SET_BOOKS\":\n      return {\n        ...state,\n        items: action.payload,\n        isReady: true\n      };\n    case \"SET_IS_READY\":\n      return {\n        ...state,\n        isReady: action.payload\n      };\n    default:\n      return state;\n  }\n};\n","const initialState = {\n  items: []\n};\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case \"ADD_TO_CART\":\n      return {\n        ...state,\n        items: [...state.items, action.payload]\n      };\n    case \"REMOVE_FROM_CART\":\n      return {\n        ...state,\n        items: state.items.filter(o => o.id !== action.payload)\n      };\n    default:\n      return state;\n  }\n};\n","const initialState = {\n  searchQuery: '',\n  filterBy: 'all',\n};\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case 'SET_QUERY':\n      return {\n        ...state,\n        searchQuery: action.payload,\n      };\n    case 'SET_FILTER':\n      return {\n        ...state,\n        filterBy: action.payload,\n      };\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from 'redux';\n\nimport books from './books';\nimport cart from './cart';\nimport filter from './filter';\n\nexport default combineReducers({\n  books,\n  cart,\n  filter,\n});\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport App from './containers/App';\r\nimport 'semantic-ui-css/semantic.min.css'\r\nimport createStore from './store'\r\n\r\n\r\nconst store = createStore();\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>,\r\n    document.getElementById('root')\r\n);\r\n\r\n","import { createStore, applyMiddleware } from 'redux';\r\nimport logger from 'redux-logger';\r\n\r\nimport rootReducer from './reducers';\r\n\r\nexport default () => {\r\n    const store = createStore(rootReducer, applyMiddleware(logger));\r\n    return store;\r\n};"],"sourceRoot":""}